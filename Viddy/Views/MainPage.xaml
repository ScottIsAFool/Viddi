<views:BasePage x:Class="Viddy.Views.MainPage"
                xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                xmlns:views="using:Viddy.Views"
                xmlns:controls="using:Viddy.Controls"
                xmlns:interactivity="using:Microsoft.Xaml.Interactivity"
                xmlns:core="using:Microsoft.Xaml.Interactions.Core"
                mc:Ignorable="d"
                Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
                DataContext="{Binding Main, Source={StaticResource Locator}}">


    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <CaptureElement Grid.RowSpan="3"
                        Stretch="UniformToFill"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Stretch"
                        x:Name="CaptureElement" />

        <StackPanel Orientation="Vertical"
                    Grid.Row="0"
                    Margin="19,51"
                    HorizontalAlignment="Left">
            <controls:CustomButton Style="{StaticResource EmptyButtonStyle}"
                                   x:Name="FlashButton"
                                   Tapped="FlashButton_OnTapped"
                                   Visibility="{Binding CanTurnOnFlash, Converter={StaticResource VisibilityConverter}}">
                <Viewbox Stretch="UniformToFill"
                         StretchDirection="DownOnly"
                         Height="45"
                         Width="45"
                         x:Name="FlashViewbox">
                    <Border BorderBrush="{ThemeResource ButtonBackgroundBrush}"
                            BorderThickness="1"
                            Padding="2"
                            CornerRadius="45">
                        <Grid>
                            <Ellipse Fill="{ThemeResource ButtonBackgroundBrush}"
                                     Stretch="Fill"
                                     Height="45"
                                     Width="45" />
                            <Grid Visibility="{Binding FlashOn, Converter={StaticResource InverseVisibilityConverter}}">
                                <Ellipse Fill="White"
                                         Height="45"
                                         Width="45" />
                                <Path Width="45"
                                      Height="45"
                                      Stretch="Fill"
                                      Fill="{ThemeResource ButtonBackgroundBrush}"
                                      Data="F1 M 38,3.16666C 57.2379,3.16666 72.8333,18.7621 72.8333,38C 72.8333,57.2379 57.2379,72.8333 38,72.8333C 18.7621,72.8333 3.16667,57.2379 3.16667,38C 3.16667,18.7621 18.7621,3.16666 38,3.16666 Z M 52.252,18.9974L 36.4164,18.9974L 23.75,39.5833L 34.8333,39.5833L 25.3316,60.1667L 50.6667,34.8333L 38,34.8333L 52.252,18.9974 Z " />
                            </Grid>
                            <Path Width="45"
                                  Height="45"
                                  Stretch="Fill"
                                  Fill="White"
                                  Data="F1 M 38,3.16666C 57.2379,3.16666 72.8333,18.7621 72.8333,38C 72.8333,57.2379 57.2379,72.8333 38,72.8333C 18.7621,72.8333 3.16667,57.2379 3.16667,38C 3.16667,18.7621 18.7621,3.16666 38,3.16666 Z M 52.252,18.9974L 36.4164,18.9974L 23.75,39.5833L 34.8333,39.5833L 25.3316,60.1667L 50.6667,34.8333L 38,34.8333L 52.252,18.9974 Z "
                                  Visibility="{Binding FlashOn, Converter={StaticResource VisibilityConverter}}" />
                        </Grid>
                    </Border>
                </Viewbox>
            </controls:CustomButton>

            <controls:CustomButton Style="{StaticResource EmptyButtonStyle}"
                                   Margin="0,12"
                                   x:Name="FrontFacingButton"
                                   Tapped="FrontFacingButton_OnTapped"
                                   Visibility="{Binding HasFrontFacingCamera, Converter={StaticResource VisibilityConverter}}">
                <Viewbox Stretch="UniformToFill"
                         StretchDirection="DownOnly"
                         Height="45"
                         Width="45"
                         x:Name="FrontFacingViewbox">
                    <Border BorderBrush="{ThemeResource ButtonBackgroundBrush}"
                            BorderThickness="1"
                            Padding="2"
                            CornerRadius="45">
                        <Grid>
                            <Ellipse Fill="{ThemeResource ButtonBackgroundBrush}"
                                     Stretch="Fill"
                                     Height="45"
                                     Width="45" />
                            <Grid Visibility="{Binding IsFrontFacing, Converter={StaticResource InverseVisibilityConverter}}">
                                <Ellipse Fill="White"
                                         Height="45"
                                         Width="45" />
                                <Path Width="45"
                                      Height="45"
                                      Stretch="Fill"
                                      Fill="{ThemeResource ButtonBackgroundBrush}"
                                      HorizontalAlignment="Center"
                                      VerticalAlignment="Center"
                                      Data="F1 M 24,31C 24,32.1046 23.3284,33 22.5,33C 21.6716,33 21,32.1046 21,31C 21,29.8955 21.6716,29 22.5,29C 23.3284,29 24,29.8955 24,31 Z M 73,38C 73,57.33 57.33,73 38,73C 18.67,73 3,57.33 3,38C 3,18.67 18.67,3.00002 38,3.00002C 57.3299,3.00002 73,18.6701 73,38 Z M 22,26.0001C 19.2386,26.0001 17,28.2387 17,31.0001L 17,45.0001C 17,47.7615 19.2386,50.0001 22,50.0001L 33.2316,50.0001C 33.3923,48.5774 33.6626,46.7702 34.1154,44.8522C 31.1907,44.2177 29,41.6147 29,38.5C 29,34.9102 31.9101,32 35.5,32C 37.2666,32 38.8686,32.7048 40.0402,33.8485C 41.1646,32.9855 42.468,32.3696 43.9792,32.1075C 42.4693,30.9173 41.5,29.0718 41.5,27C 41.5,25.8018 41.8242,24.6792 42.3897,23.7154C 41.5176,22.1415 39.8181,21 38,21L 32,21C 29.3767,21 27,23.3766 27,26L 22,26.0001 Z M 44.7499,34C 44.75,34 34.75,33 35,53.5L 38.25,54.25C 38.25,54.25 38.75,46.75 40.75,42.75L 40.75,55.25C 40.75,55.25 44.5,57 48.5,56.9686C 52.5,56.9371 56,55.25 56,55.25L 55.9999,42.75C 57.9999,46.75 58.5,54.25 58.5,54.25L 61.75,53.5C 62,33 52,34 52,34L 44.7499,34 Z M 43,27C 43,29.7614 45.2386,32 48,32C 50.7614,32 53,29.7614 53,27C 53,24.2386 50.7614,22 48,22C 45.2386,22 43,24.2386 43,27 Z " />
                            </Grid>
                            <Path Width="45"
                                  Height="45"
                                  Stretch="Fill"
                                  Fill="White"
                                  Data="F1 M 24,31C 24,32.1046 23.3284,33 22.5,33C 21.6716,33 21,32.1046 21,31C 21,29.8955 21.6716,29 22.5,29C 23.3284,29 24,29.8955 24,31 Z M 73,38C 73,57.33 57.33,73 38,73C 18.67,73 3,57.33 3,38C 3,18.67 18.67,3.00002 38,3.00002C 57.3299,3.00002 73,18.6701 73,38 Z M 22,26.0001C 19.2386,26.0001 17,28.2387 17,31.0001L 17,45.0001C 17,47.7615 19.2386,50.0001 22,50.0001L 33.2316,50.0001C 33.3923,48.5774 33.6626,46.7702 34.1154,44.8522C 31.1907,44.2177 29,41.6147 29,38.5C 29,34.9102 31.9101,32 35.5,32C 37.2666,32 38.8686,32.7048 40.0402,33.8485C 41.1646,32.9855 42.468,32.3696 43.9792,32.1075C 42.4693,30.9173 41.5,29.0718 41.5,27C 41.5,25.8018 41.8242,24.6792 42.3897,23.7154C 41.5176,22.1415 39.8181,21 38,21L 32,21C 29.3767,21 27,23.3766 27,26L 22,26.0001 Z M 44.7499,34C 44.75,34 34.75,33 35,53.5L 38.25,54.25C 38.25,54.25 38.75,46.75 40.75,42.75L 40.75,55.25C 40.75,55.25 44.5,57 48.5,56.9686C 52.5,56.9371 56,55.25 56,55.25L 55.9999,42.75C 57.9999,46.75 58.5,54.25 58.5,54.25L 61.75,53.5C 62,33 52,34 52,34L 44.7499,34 Z M 43,27C 43,29.7614 45.2386,32 48,32C 50.7614,32 53,29.7614 53,27C 53,24.2386 50.7614,22 48,22C 45.2386,22 43,24.2386 43,27 Z "
                                  Visibility="{Binding IsFrontFacing, Converter={StaticResource VisibilityConverter}}" />
                        </Grid>
                    </Border>
                </Viewbox>
            </controls:CustomButton>
        </StackPanel>

        <controls:CustomButton Grid.Row="2"
                               Style="{StaticResource EmptyButtonStyle}"
                               HorizontalAlignment="Left"
                               VerticalAlignment="Center"
                               Margin="19"
                               TapCommand="{Binding SelectVideoCommand}">
            <Viewbox Stretch="UniformToFill"
                     StretchDirection="DownOnly"
                     Height="45"
                     Width="45">
                <Border BorderBrush="{ThemeResource ButtonBackgroundBrush}"
                        BorderThickness="1"
                        Padding="2"
                        CornerRadius="45">
                    <Grid>
                        <Ellipse Fill="{ThemeResource ButtonBackgroundBrush}"
                                 Stretch="Fill"
                                 Height="45"
                                 Width="45" />
                        <Path Width="25"
                              Height="25"
                              Stretch="Fill"
                              Fill="White"
                              Data="F1 M 19,19L 57,19L 57,57L 19,57L 19,19 Z M 26.9166,23.75L 26.9166,36.4167L 49.0833,36.4167L 49.0833,23.75L 26.9166,23.75 Z M 26.9166,39.5834L 26.9166,52.25L 49.0833,52.25L 49.0833,39.5834L 26.9166,39.5834 Z M 22.9583,22.1667C 21.6466,22.1667 20.5833,23.23 20.5833,24.5417C 20.5833,25.8534 21.6466,26.9167 22.9583,26.9167C 24.27,26.9167 25.3333,25.8534 25.3333,24.5417C 25.3333,23.23 24.27,22.1667 22.9583,22.1667 Z M 22.9583,49.0834C 21.6466,49.0834 20.5833,50.1467 20.5833,51.4584C 20.5833,52.77 21.6466,53.8334 22.9583,53.8334C 24.27,53.8334 25.3333,52.77 25.3333,51.4584C 25.3333,50.1467 24.27,49.0834 22.9583,49.0834 Z M 22.9583,42.3542C 21.6466,42.3542 20.5833,43.4175 20.5833,44.7292C 20.5833,46.0409 21.6466,47.1042 22.9583,47.1042C 24.27,47.1042 25.3333,46.0409 25.3333,44.7292C 25.3333,43.4175 24.27,42.3542 22.9583,42.3542 Z M 22.9583,35.625C 21.6466,35.625 20.5833,36.6884 20.5833,38C 20.5833,39.3117 21.6466,40.375 22.9583,40.375C 24.27,40.375 25.3333,39.3117 25.3333,38C 25.3333,36.6884 24.27,35.625 22.9583,35.625 Z M 22.9583,28.8959C 21.6466,28.8959 20.5833,29.9592 20.5833,31.2709C 20.5833,32.5826 21.6466,33.6459 22.9583,33.6459C 24.27,33.6459 25.3333,32.5826 25.3333,31.2709C 25.3333,29.9592 24.27,28.8959 22.9583,28.8959 Z M 53.0416,22.1667C 51.7299,22.1667 50.6666,23.23 50.6666,24.5417C 50.6666,25.8534 51.7299,26.9167 53.0416,26.9167C 54.3533,26.9167 55.4166,25.8534 55.4166,24.5417C 55.4166,23.23 54.3533,22.1667 53.0416,22.1667 Z M 53.0417,49.0833C 51.73,49.0833 50.6667,50.1467 50.6667,51.4583C 50.6667,52.77 51.73,53.8333 53.0417,53.8333C 54.3533,53.8333 55.4167,52.77 55.4167,51.4583C 55.4167,50.1467 54.3533,49.0833 53.0417,49.0833 Z M 53.0417,42.3542C 51.73,42.3542 50.6667,43.4175 50.6667,44.7292C 50.6667,46.0408 51.73,47.1042 53.0417,47.1042C 54.3533,47.1042 55.4167,46.0408 55.4167,44.7292C 55.4167,43.4175 54.3533,42.3542 53.0417,42.3542 Z M 53.0417,35.625C 51.73,35.625 50.6667,36.6883 50.6667,38C 50.6667,39.3117 51.73,40.375 53.0417,40.375C 54.3533,40.375 55.4167,39.3117 55.4167,38C 55.4167,36.6883 54.3533,35.625 53.0417,35.625 Z M 53.0417,28.8958C 51.73,28.8958 50.6667,29.9592 50.6667,31.2708C 50.6667,32.5825 51.73,33.6458 53.0417,33.6458C 54.3533,33.6458 55.4167,32.5825 55.4167,31.2708C 55.4167,29.9592 54.3533,28.8958 53.0417,28.8958 Z " />
                    </Grid>
                </Border>
            </Viewbox>

        </controls:CustomButton>

        <controls:CustomButton Style="{StaticResource EmptyButtonStyle}"
                               Grid.Row="2"
                               HorizontalAlignment="Center"
                               Padding="0,0,0,18"
                               x:Name="RecordButton"
                               Tapped="RecordButton_OnTapped">
            <Border BorderBrush="{ThemeResource RecordButtonBrush}"
                    BorderThickness="1"
                    Padding="2"
                    CornerRadius="55">
                <Ellipse Fill="{ThemeResource RecordButtonBrush}"
                         Height="80"
                         Width="80" />
            </Border>
        </controls:CustomButton>

        <controls:ProfilePictureControl TappedCommand="{Binding NavigateToAccountCommand}"
                                        Grid.Row="2"
                                        VerticalAlignment="Center"
                                        HorizontalAlignment="Right"
                                        Margin="19" />
    </Grid>
</views:BasePage>
